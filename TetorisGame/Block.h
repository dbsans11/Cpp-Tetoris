#ifndef __BLOCK_H__
#define __BLOCK_H__

const int SHAPES[7][4][4][4] = {
	// O
	{
		{{0,0,0,0}, {0,1,1,0}, {0,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,1,1,0}, {0,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,1,1,0}, {0,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,1,1,0}, {0,1,1,0}, {0,0,0,0}}
	},
	// I
	{
		{{0,0,0,0}, {0,0,0,0}, {1,1,1,1}, {0,0,0,0}},
		{{0,1,0,0}, {0,1,0,0}, {0,1,0,0}, {0,1,0,0}},
		{{0,0,0,0}, {0,0,0,0}, {1,1,1,1}, {0,0,0,0}},
		{{0,1,0,0}, {0,1,0,0}, {0,1,0,0}, {0,1,0,0}}
	},
	// S
	{
		{{0,0,0,0}, {1,1,0,0}, {0,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,0,1,0}, {0,1,1,0}, {0,1,0,0}},
		{{0,0,0,0}, {1,1,0,0}, {0,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,0,1,0}, {0,1,1,0}, {0,1,0,0}}
	},
	// Z
	{
		{{0,0,0,0}, {0,1,1,0}, {1,1,0,0}, {0,0,0,0}},
		{{0,0,0,0}, {1,0,0,0}, {1,1,0,0}, {0,1,0,0}},
		{{0,0,0,0}, {0,1,1,0}, {1,1,0,0}, {0,0,0,0}},
		{{0,0,0,0}, {1,0,0,0}, {1,1,0,0}, {0,1,0,0}}
	},
	// L
	{
		{ {0,0,0,0}, {0,0,1,0}, {1,1,1,0}, {0,0,0,0} },
		{ { 0,0,0,0 }, {1,1,0,0}, {0,1,0,0}, {0,1,0,0} },
		{ {0,0,0,0}, {0,0,0,0}, {1,1,1,0}, {1,0,0,0} },
		{ {0,0,0,0}, {0,1,0,0}, {0,1,0,0}, {0,1,1,0}}
	},
	// J
	{
		{{0,0,0,0}, {1,0,0,0}, {1,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,1,0,0}, {0,1,0,0}, {1,1,0,0}},
		{{0,0,0,0}, {0,0,0,0}, {1,1,1,0}, {0,0,1,0}},
		{{0,0,0,0}, {0,1,1,0}, {0,1,0,0}, {0,1,0,0}}
	},
	// T
	{
		{{0,0,0,0}, {0,1,0,0}, {1,1,1,0}, {0,0,0,0}},
		{{0,0,0,0}, {0,1,0,0}, {0,1,1,0}, {0,1,0,0}},
		{{0,0,0,0}, {0,0,0,0}, {1,1,1,0}, {0,1,0,0}},
		{{0,0,0,0}, {0,1,0,0}, {1,1,0,0}, {0,1,0,0}}
	}
};

class Block {
private:
	int type;
	int rotation;
	int x, y;
public:
	Block(int t) : type(t), rotation(0), x(4), y(0) {}

	int getX() const { return x; }
	int getY() const { return y; }
	int getType() const { return type; }
	int getRotate() const { return rotation; }
	bool getShapeValue(int r, int c) const { return SHAPES[type][rotation][r][c]; }

	void moveDown() { y++; }
	void moveLeft() { x--; }
	void moveRight() { x++; }
	void rotate() { rotation = (rotation + 1) % 4; }
};

#endif